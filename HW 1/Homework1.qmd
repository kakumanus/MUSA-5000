---
title: "Homework 1: Using OLS Regression to Predict Median House Values in Philadelphia"
author: "Yiming Cao, Sujan Kakumanu, Angel Sanaa Rutherford"
date: October 15 2025
number-sections: true
format: pdf
---
```{r setup}
#| echo: false
```

# Introduction

# Methods

## Data Cleaning
```{r data-cleaning}
#| echo: false
regression_data <- read.csv("./RegressionData.csv")
options(scipen = 999)
library(dplyr)
library(sf)
```

## Exploratory Data Analysis
```{r exploratory-data-analysis}
hist(regression_data$MEDHVAL)
hist(regression_data$PCTBACHMOR)
hist(regression_data$NBELPOV100)
hist(regression_data$PCTVACANT)
hist(regression_data$PCTSINGLES)

plot(regression_data$PCTBACHMOR, regression_data$MEDHVAL)
plot(regression_data$NBELPOV100, regression_data$MEDHVAL)
plot(regression_data$PCTVACANT, regression_data$MEDHVAL)
plot(regression_data$PCTSINGLES, regression_data$MEDHVAL)

mean_medhval <- mean(regression_data$MEDHVAL)
mean_pctbachmor <- mean(regression_data$PCTBACHMOR)
mean_nbelpov100 <- mean(regression_data$NBELPOV100)
mean_pctvacant <- mean(regression_data$PCTVACANT)
mean_pctsingles <- mean(regression_data$PCTSINGLES)

sd_medhval <- sd(regression_data$MEDHVAL)
sd_pctbachmor <- sd(regression_data$PCTBACHMOR)
sd_nbelpov100 <- sd(regression_data$NBELPOV100)
sd_pctvacant <- sd(regression_data$PCTVACANT)
sd_pctsingles <- sd(regression_data$PCTSINGLES)
```
```{r exploratory-data-analysis-log}
regression_data$LNMEDHVAL<-log(regression_data$MEDHVAL)

regression_data$LNPCTBACHMOR<-log(1+regression_data$PCTBACHMOR)
regression_data$LNNBELPOV100<-log(1+regression_data$NBELPOV100)
regression_data$LNPCTVACANT<-log(1+regression_data$PCTVACANT)
regression_data$LNPCTSINGLES<-log(1+regression_data$PCTSINGLES)

hist(regression_data$LNMEDHVAL)
hist(regression_data$LNPCTBACHMOR)
hist(regression_data$LNNBELPOV100)
hist(regression_data$LNPCTVACANT)
hist(regression_data$LNPCTSINGLES)

plot(regression_data$PCTBACHMOR, regression_data$LNMEDHVAL)
plot(regression_data$LNNBELPOV100, regression_data$LNMEDHVAL)
plot(regression_data$PCTVACANT, regression_data$LNMEDHVAL)
plot(regression_data$PCTSINGLES, regression_data$LNMEDHVAL)

cor(regression_data$PCTBACHMOR, regression_data$LNMEDHVAL, method="pearson")
cor(regression_data$LNNBELPOV100, regression_data$LNMEDHVAL, method="pearson")
cor(regression_data$PCTVACANT, regression_data$LNMEDHVAL, method="pearson")
cor(regression_data$PCTSINGLES, regression_data$LNMEDHVAL, method="pearson")

trimmed_regression_data <- regression_data %>%
select(PCTBACHMOR, LNNBELPOV100, PCTVACANT, LNMEDHVAL,PCTSINGLES)
trimmed_regression_data
#remove LNMEDHVAL in final product
cor(trimmed_regression_data)

Regression_shpData <- st_read("./Lecture 1 - RegressionData.shp")
regression_data_and_shapes <- Regression_shpData %>%
  left_join(regression_data, by = "AREAKEY")

ggplot(trimmed_regression_data) +
  geom_sf(aes(fill = median_income), color = "white", size = 0.5) +
  scale_fill_viridis_c(
    name = "Median\nIncome",
    labels = dollar,
    option = "plasma"
  ) +
  labs(
    title = "Median Household Income by Congressional District",
    subtitle = "Pennsylvania",
    caption = "Source: ACS 2018-2022"
  ) +
  theme_void()



```
## Multiple Regression Analysis
```{r multiple-regression-analysis}
```

## Additional Analysis

## Software Used

# Results

## Exploratory Results

## Regression Results

## Regression Assumption Checks

## Additional Models

# Discussion & Limitations

